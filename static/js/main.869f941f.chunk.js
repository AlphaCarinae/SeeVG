(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/pointinghand.7401db2d.svg"},17:function(e,t,n){e.exports=n.p+"static/media/line.aa6b7239.svg"},18:function(e,t,n){e.exports=n.p+"static/media/rectangle.b89a706b.svg"},19:function(e,t,n){e.exports=n.p+"static/media/ellipse.a5add460.svg"},20:function(e,t,n){e.exports=n.p+"static/media/circle.8381b9ef.svg"},23:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n.n(a),i=(n(28),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function r(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(0),l=n.n(s),c=n(12),d=n(22),u=n(3),h=n(4),p=n(6),v=n(5),g=n(7),f=n(9),m=n.n(f),w=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(v.a)(t).call(this))).state={mouseIsDown:!1,boardSize:{},items:{},points:{x1:0,y1:0,x2:0,y2:0}},e}return Object(g.a)(t,e),Object(h.a)(t,[{key:"_handleDelKey",value:function(e){"Backspace"===e.key&&m.a.selectAll(".selected").remove()}},{key:"componentDidMount",value:function(){var e=this.refs.board,t=e.clientHeight,n=e.clientWidth;console.log(this.refs),this.setState(Object(c.a)({},this.state,{boardSize:{height:t,width:n}})),window.addEventListener("keydown",this._handleDelKey)}},{key:"svgRender",value:function(){var e=this.state.points,t=e.x1,n=e.y1,a=e.x2,o=e.y2,i=this.state.mouseIsDown,r=this.props,s=r.tools,l=r.color,c=r.fillColor,d=r.lineWidth,u=r.opacity;if(t!==a||n!==o){var h=m()("#drawingBoard"),p=Math.abs(a-t),v=Math.abs(o-n);switch(s){case"pointer":break;case"line":var g=h.select(".drawingInMotion");g&&g.remove();var f=h.line(t,n,a,o).attr({stroke:l,fill:c,strokeWidth:d,"fill-opacity":u});i?f.addClass("drawingInMotion"):(f.addClass("drawn"),f.removeClass("drawingInMotion"));break;case"rectangle":var w,b,k=h.select(".drawingInMotion");k&&k.remove(),w=a>t?t:a,b=o>n?n:o;var O=h.rect(w,b,p,v).attr({stroke:l,fill:c,strokeWidth:d,"fill-opacity":u});i?O.addClass("drawingInMotion"):(O.addClass("drawn"),O.removeClass("drawingInMotion"));break;case"circle":var E=h.select(".drawingInMotion");E&&E.remove();var j=m.a.len(t,n,a,o),y=h.circle(t,n,j).attr({stroke:l,fill:c,strokeWidth:d,"fill-opacity":u});i?y.addClass("drawingInMotion"):(y.addClass("drawn"),y.removeClass("drawingInMotion"));break;case"ellipse":var C=h.select(".drawingInMotion");C&&C.remove();var S=h.ellipse(t,n,p,v).attr({stroke:l,fill:c,strokeWidth:d,"fill-opacity":u});i?S.addClass("drawingInMotion"):(S.addClass("drawn"),S.removeClass("drawingInMotion"));break;default:console.log("no shape match found")}}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.svg,t.tools),a=this.props.svg,o=a.height,i=a.width;return l.a.createElement("div",{className:"board",ref:"board"},l.a.createElement("svg",{ref:"svg",id:"drawingBoard",width:i,height:o,viewBox:"0 0 "+i+" "+o,onClick:function(e){if("pointer"===n)if("drawingBoard"!==e.target.id)e.target.classList.toggle("selected");else if("drawingBoard"===e.target.id){var t=m.a.selectAll(".selected");t?t.forEach(function(e){return e.toggleClass("selected")}):console.log("no selected elements exist"),console.log("drawingBoard")}},onMouseDown:function(t){var n=e.state.points;n.x1=t.nativeEvent.offsetX,n.y1=t.nativeEvent.offsetY,e.setState(Object(c.a)({},e.state,{points:n,mouseIsDown:!0}))},onMouseUp:function(t){e.setState(Object(c.a)({},e.state,{mouseIsDown:!1}),e.svgRender)},onMouseMove:function(t){if(e.state.mouseIsDown){var n=e.state.points;n.x2=t.nativeEvent.offsetX,n.y2=t.nativeEvent.offsetY,console.log(t.nativeEvent,n),e.setState(Object(c.a)({},e.state,{points:n}),e.svgRender)}}}))}}]),t}(s.Component),b=n(10),k=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(v.a)(t).call(this)))._downloadSvgFile=function(){var t=e.props.svg,n=t.width,a=t.height,o=document.createElement("a"),i=m()("#drawingBoard").innerSVG();i='<svg width="'+n+'" height="'+a+'" xmlns="http://www.w3.org/2000/svg">'+i+"</svg>";var r=new Blob([i],{type:"text/plain"});o.href=URL.createObjectURL(r),o.download="myImage.svg",o.click()},e.state={dropDownOpen:!1},e.menuClick=e.menuClick.bind(Object(b.a)(Object(b.a)(e))),e.clearBoard=e.clearBoard.bind(Object(b.a)(Object(b.a)(e))),e.showSvg=e.showSvg.bind(Object(b.a)(Object(b.a)(e))),e._downloadSvgFile=e._downloadSvgFile.bind(Object(b.a)(Object(b.a)(e))),e}return Object(g.a)(t,e),Object(h.a)(t,[{key:"clearBoard",value:function(){m.a.selectAll(".drawn").remove(),this.setState({dropDownOpen:!1})}},{key:"showSvg",value:function(){var e=m()("#drawingBoard").outerSVG();this.props.update({svgCode:e,svgCodeShow:!0},this.setState({dropDownOpen:!1}))}},{key:"menuClick",value:function(e){this.setState({dropDownOpen:!this.state.dropDownOpen})}},{key:"render",value:function(){var e=this.state.dropDownOpen;return l.a.createElement("div",{className:"menu"},l.a.createElement("div",null,l.a.createElement("div",{onClick:this.menuClick},l.a.createElement("p",null,"Menu")),l.a.createElement("div",{className:e?"dropDownOpen":"dropDownClosed"},l.a.createElement("li",{onClick:this.clearBoard},"New"),l.a.createElement("li",{onClick:this.showSvg},"Show inline SVG code"),l.a.createElement("li",{onClick:this._downloadSvgFile},"Save svg file ..."))))}}]),t}(s.Component),O=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"generateSizes",value:function(){for(var e=window.innerWidth,t=[],n=100;n<e;)t.push(n),n+=100;return t}},{key:"render",value:function(){var e=this,t=this.props.svg,n=this.generateSizes();return l.a.createElement("div",{className:"controls"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"SVG size"),l.a.createElement("form",null,l.a.createElement("label",null,"svg height",l.a.createElement("select",{onChange:function(n){return e.props.update({svg:{height:n.target.value,width:t.width}})},value:t.height},n.map(function(e){return l.a.createElement("option",{value:e,key:e},e," ")}))),l.a.createElement("br",null),l.a.createElement("label",null,"svg width",l.a.createElement("select",{onChange:function(n){return e.props.update({svg:{height:t.height,width:n.target.value}})},value:t.width},n.map(function(e){return l.a.createElement("option",{value:e,key:e},e)}))))))}}]),t}(s.Component),E=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"shapes"})}}]),t}(s.Component),j=n(16),y=n.n(j),C=n(17),S=n.n(C),M=n(18),x=n.n(M),I=n(19),D=n.n(I),W=n(20),B=n.n(W),N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).updateState=function(e){this.props.update(e);var t=m.a.selectAll(".selected");if(null!==t){var n=Object.keys(e)[0];switch(n){case"color":t.attr({stroke:e[n]});break;case"fillColor":t.attr({fill:e[n]});break;case"opacity":t.attr({"fill-opacity":e[n]});break;case"lineWidth":t.attr({strokeWidth:e[n]})}}},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t={pointer:y.a,line:S.a,circle:B.a,rectangle:x.a,ellipse:D.a},n=Object.keys(t),a=this.props,o=a.color,i=a.fillColor,r=a.opacity,s=a.lineWidth;return l.a.createElement("div",{className:"tools"},l.a.createElement("fieldset",null,n.map(function(n){return l.a.createElement("button",{onClick:function(t){return e.props.update({tools:n})},key:n},l.a.createElement("div",null,l.a.createElement("img",{src:t[n],alt:"shape tool selector",key:n})))})),l.a.createElement("fieldset",null,l.a.createElement("input",{className:"colorPicker",type:"color",value:o,onChange:function(t){return e.updateState({color:t.target.value})}}),l.a.createElement("input",{className:"colorPicker",type:"color",value:i,onChange:function(t){return e.updateState({fillColor:t.target.value})}})),l.a.createElement("fieldset",null,l.a.createElement("label",null,"Opacity: ",r,l.a.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:r,onChange:function(t){return e.updateState({opacity:t.target.value})}})),l.a.createElement("br",null),l.a.createElement("label",null,"Line width: ",s,l.a.createElement("input",{type:"range",min:"1",max:"40",step:"1",value:s,onChange:function(t){return e.updateState({lineWidth:t.target.value})}}))))}}]),t}(s.Component),R=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.svgCodeShow?"svgResult svgResultShow":"svgResult",l.a.createElement("div",{className:e},l.a.createElement("p",null,this.props.svgCode),l.a.createElement("button",{onClick:function(e){t.props.update({svgCodeShow:!1})}},"Close"))}}]),t}(s.Component),G=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(v.a)(t).call(this,e))).state={tools:"pointer",color:"#000000",fillColor:"#ffffff",opacity:.5,lineWidth:1,svg:{width:200,height:200},shapes:{},board:{},svgCode:"",svgCodeShow:!1},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"update",value:function(e){this.setState.apply(this,Object(d.a)(this.state).concat([e]))}},{key:"componentDidMount",value:function(){window.innerWidth<500?this.setState(Object(c.a)({},this.state,{svg:{width:200,height:200}})):this.setState(Object(c.a)({},this.state,{svg:{width:400,height:400}}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"logo"},"SeeVG"),l.a.createElement(k,Object.assign({},this.state,{update:this.update.bind(this)})),l.a.createElement(N,Object.assign({},this.state,{update:this.update.bind(this)})),l.a.createElement(w,Object.assign({},this.state,{update:this.update.bind(this)})),l.a.createElement(O,Object.assign({},this.state,{update:this.update.bind(this)})),l.a.createElement(E,null),l.a.createElement(R,Object.assign({},this.state,{update:this.update.bind(this)})))}}]),t}(s.Component),L=n(37),V=n(39),A=n(38),_=l.a.createElement(L.a,null,l.a.createElement("div",null,l.a.createElement(V.a,null,l.a.createElement(A.a,{exact:!0,path:"/",component:G}))));o.a.render(_,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/SeeVG",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/SeeVG","/service-worker.js");i?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):r(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):r(e)})}}()}},[[23,2,1]]]);
//# sourceMappingURL=main.869f941f.chunk.js.map